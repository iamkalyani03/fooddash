{"ast":null,"code":"const BASE = \"http://localhost:8000\";\n\n// GET /restaurants\nexport const getRestaurants = async user => {\n  try {\n    const res = await fetch(`${BASE}/restaurants?username=${user}`);\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\n    return await res.json();\n  } catch (err) {\n    console.error(\"Error fetching restaurants:\", err);\n    return []; // return empty array on error\n  }\n};\n\n// POST /order\nexport const createOrder = async (user, restaurant_id = 1, item = \"Biryani\") => {\n  try {\n    const res = await fetch(`${BASE}/order?username=${user}&restaurant_id=${restaurant_id}&item=${encodeURIComponent(item)}`, {\n      method: \"POST\"\n    });\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\n    return await res.json(); // get backend response\n  } catch (err) {\n    console.error(\"Error creating order:\", err);\n    return {\n      message: \"Failed to create order\"\n    };\n  }\n};\n\n// POST /checkout\nexport const checkoutOrder = async user => {\n  try {\n    const res = await fetch(`${BASE}/checkout?username=${user}`, {\n      method: \"POST\"\n    });\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\n    return await res.json();\n  } catch (err) {\n    console.error(\"Error during checkout:\", err);\n    return {\n      message: \"Failed to checkout\"\n    };\n  }\n};\n\n// POST /cancel\nexport const cancelOrder = async user => {\n  try {\n    const res = await fetch(`${BASE}/cancel?username=${user}`, {\n      method: \"POST\"\n    });\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\n    return await res.json();\n  } catch (err) {\n    console.error(\"Error cancelling order:\", err);\n    return {\n      message: \"Failed to cancel order\"\n    };\n  }\n};\n\n// POST /payment\nexport const updatePayment = async (user, method) => {\n  try {\n    const res = await fetch(`${BASE}/payment?username=${user}&method=${encodeURIComponent(method)}`, {\n      method: \"POST\"\n    });\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\n    return await res.json();\n  } catch (err) {\n    console.error(\"Error updating payment:\", err);\n    return {\n      message: \"Failed to update payment method\"\n    };\n  }\n};","map":{"version":3,"names":["BASE","getRestaurants","user","res","fetch","ok","Error","status","json","err","console","error","createOrder","restaurant_id","item","encodeURIComponent","method","message","checkoutOrder","cancelOrder","updatePayment"],"sources":["C:/Users/Admin/Desktop/food-ordering-app/frontend/src/api.js"],"sourcesContent":["const BASE = \"http://localhost:8000\";\r\n\r\n// GET /restaurants\r\nexport const getRestaurants = async (user) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/restaurants?username=${user}`);\r\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\r\n    return await res.json();\r\n  } catch (err) {\r\n    console.error(\"Error fetching restaurants:\", err);\r\n    return []; // return empty array on error\r\n  }\r\n};\r\n\r\n// POST /order\r\nexport const createOrder = async (user, restaurant_id = 1, item = \"Biryani\") => {\r\n  try {\r\n    const res = await fetch(\r\n      `${BASE}/order?username=${user}&restaurant_id=${restaurant_id}&item=${encodeURIComponent(item)}`,\r\n      { method: \"POST\" }\r\n    );\r\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\r\n    return await res.json(); // get backend response\r\n  } catch (err) {\r\n    console.error(\"Error creating order:\", err);\r\n    return { message: \"Failed to create order\" };\r\n  }\r\n};\r\n\r\n// POST /checkout\r\nexport const checkoutOrder = async (user) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/checkout?username=${user}`, { method: \"POST\" });\r\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\r\n    return await res.json();\r\n  } catch (err) {\r\n    console.error(\"Error during checkout:\", err);\r\n    return { message: \"Failed to checkout\" };\r\n  }\r\n};\r\n\r\n// POST /cancel\r\nexport const cancelOrder = async (user) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/cancel?username=${user}`, { method: \"POST\" });\r\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\r\n    return await res.json();\r\n  } catch (err) {\r\n    console.error(\"Error cancelling order:\", err);\r\n    return { message: \"Failed to cancel order\" };\r\n  }\r\n};\r\n\r\n// POST /payment\r\nexport const updatePayment = async (user, method) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/payment?username=${user}&method=${encodeURIComponent(method)}`, { method: \"POST\" });\r\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\r\n    return await res.json();\r\n  } catch (err) {\r\n    console.error(\"Error updating payment:\", err);\r\n    return { message: \"Failed to update payment method\" };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}