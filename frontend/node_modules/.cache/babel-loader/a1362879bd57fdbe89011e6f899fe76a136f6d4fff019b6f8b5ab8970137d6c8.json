{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\food-ordering-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { login, createOrder, checkout, adminOrders } from \"./api\";\nimport Navbar from \"./components/Navbar\";\nimport Login from \"./components/Login\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [token, setToken] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const [orders, setOrders] = useState([]);\n  const handleLogin = async username => {\n    const r = await login(username);\n    setToken(r.token);\n    setUser({\n      name: username,\n      role: r.role\n    });\n  };\n  useEffect(() => {\n    if (token && (user === null || user === void 0 ? void 0 : user.role) === \"ADMIN\") {\n      adminOrders(token).then(setOrders);\n    }\n  }, [token, user]);\n  if (!token) return /*#__PURE__*/_jsxDEV(Login, {\n    onLogin: handleLogin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      user: user,\n      onLogout: () => window.location.reload()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 max-w-5xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => createOrder(token, \"Biryani\"),\n        className: \"bg-indigo-400 px-4 py-2 rounded text-white\",\n        children: \"Order Biryani \\u20B9250\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), user.role !== \"MEMBER\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => checkout(token),\n        className: \"ml-4 bg-green-400 px-4 py-2 rounded text-white\",\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 bg-white rounded p-4 shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-2\",\n          children: \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), orders.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [o.user, \" \\u2014 \", o.item, \" \\u2014 \", o.status]\n        }, o.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"a+IdXULUj5y+H7aZhrDGsdO54Jo=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","login","createOrder","checkout","adminOrders","Navbar","Login","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","token","setToken","user","setUser","orders","setOrders","handleLogin","username","r","name","role","then","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","children","onLogout","window","location","reload","className","onClick","map","o","item","status","id","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/food-ordering-app/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { login, createOrder, checkout, adminOrders } from \"./api\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport Login from \"./components/Login\";\r\n\r\nexport default function App() {\r\n  const [token, setToken] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  const handleLogin = async (username) => {\r\n    const r = await login(username);\r\n    setToken(r.token);\r\n    setUser({ name: username, role: r.role });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (token && user?.role === \"ADMIN\") {\r\n      adminOrders(token).then(setOrders);\r\n    }\r\n  }, [token, user]);\r\n\r\n  if (!token) return <Login onLogin={handleLogin} />;\r\n\r\n  return (\r\n    <>\r\n      <Navbar user={user} onLogout={() => window.location.reload()} />\r\n\r\n      <div className=\"p-8 max-w-5xl mx-auto\">\r\n        <button\r\n          onClick={() => createOrder(token, \"Biryani\")}\r\n          className=\"bg-indigo-400 px-4 py-2 rounded text-white\"\r\n        >\r\n          Order Biryani ₹250\r\n        </button>\r\n\r\n        {user.role !== \"MEMBER\" && (\r\n          <button\r\n            onClick={() => checkout(token)}\r\n            className=\"ml-4 bg-green-400 px-4 py-2 rounded text-white\"\r\n          >\r\n            Checkout\r\n          </button>\r\n        )}\r\n\r\n        <div className=\"mt-6 bg-white rounded p-4 shadow\">\r\n          <h3 className=\"font-bold mb-2\">Orders</h3>\r\n          {orders.map(o => (\r\n            <div key={o.id}>\r\n              {o.user} — {o.item} — {o.status}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}