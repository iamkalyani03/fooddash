{"ast":null,"code":"const BASE = \"http://localhost:8000\";\nconst handleResponse = async res => {\n  if (res.status === 403) return {\n    error: true,\n    message: \"Access Denied: You don't have permission.\"\n  };\n  if (res.status === 401) return {\n    error: true,\n    message: \"Session expired or invalid user.\"\n  };\n  if (!res.ok) throw new Error(\"Network response was not ok\");\n  return await res.json();\n};\nexport const getRestaurants = async user => {\n  try {\n    const res = await fetch(`${BASE}/restaurants?username=${user}`);\n    return await handleResponse(res);\n  } catch (err) {\n    return [];\n  }\n};\nexport const createOrder = async (user, restaurant_id, item) => {\n  try {\n    const res = await fetch(`${BASE}/order?username=${user}&restaurant_id=${restaurant_id}&item=${encodeURIComponent(item)}`, {\n      method: \"POST\"\n    });\n    return await handleResponse(res);\n  } catch (err) {\n    return {\n      error: true,\n      message: \"Connection failed\"\n    };\n  }\n};\nexport const checkoutOrder = async user => {\n  try {\n    const res = await fetch(`${BASE}/checkout?username=${user}`, {\n      method: \"POST\"\n    });\n    return await handleResponse(res);\n  } catch (err) {\n    return {\n      error: true,\n      message: \"Checkout failed\"\n    };\n  }\n};\nexport const cancelOrder = async user => {\n  try {\n    const res = await fetch(`${BASE}/cancel?username=${user}`, {\n      method: \"POST\"\n    });\n    return await handleResponse(res);\n  } catch (err) {\n    return {\n      error: true,\n      message: \"Cancel failed\"\n    };\n  }\n};\nexport const updatePayment = async (user, method) => {\n  try {\n    const res = await fetch(`${BASE}/payment?username=${user}&method=${encodeURIComponent(method)}`, {\n      method: \"POST\"\n    });\n    return await handleResponse(res);\n  } catch (err) {\n    return {\n      error: true,\n      message: \"Update failed\"\n    };\n  }\n};","map":{"version":3,"names":["BASE","handleResponse","res","status","error","message","ok","Error","json","getRestaurants","user","fetch","err","createOrder","restaurant_id","item","encodeURIComponent","method","checkoutOrder","cancelOrder","updatePayment"],"sources":["C:/Users/Admin/Desktop/food-ordering-app/frontend/src/api.js"],"sourcesContent":["const BASE = \"http://localhost:8000\";\r\n\r\nconst handleResponse = async (res) => {\r\n  if (res.status === 403) return { error: true, message: \"Access Denied: You don't have permission.\" };\r\n  if (res.status === 401) return { error: true, message: \"Session expired or invalid user.\" };\r\n  if (!res.ok) throw new Error(\"Network response was not ok\");\r\n  return await res.json();\r\n};\r\n\r\nexport const getRestaurants = async (user) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/restaurants?username=${user}`);\r\n    return await handleResponse(res);\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const createOrder = async (user, restaurant_id, item) => {\r\n  try {\r\n    const res = await fetch(\r\n      `${BASE}/order?username=${user}&restaurant_id=${restaurant_id}&item=${encodeURIComponent(item)}`,\r\n      { method: \"POST\" }\r\n    );\r\n    return await handleResponse(res);\r\n  } catch (err) {\r\n    return { error: true, message: \"Connection failed\" };\r\n  }\r\n};\r\n\r\nexport const checkoutOrder = async (user) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/checkout?username=${user}`, { method: \"POST\" });\r\n    return await handleResponse(res);\r\n  } catch (err) {\r\n    return { error: true, message: \"Checkout failed\" };\r\n  }\r\n};\r\n\r\nexport const cancelOrder = async (user) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/cancel?username=${user}`, { method: \"POST\" });\r\n    return await handleResponse(res);\r\n  } catch (err) {\r\n    return { error: true, message: \"Cancel failed\" };\r\n  }\r\n};\r\n\r\nexport const updatePayment = async (user, method) => {\r\n  try {\r\n    const res = await fetch(`${BASE}/payment?username=${user}&method=${encodeURIComponent(method)}`, { method: \"POST\" });\r\n    return await handleResponse(res);\r\n  } catch (err) {\r\n    return { error: true, message: \"Update failed\" };\r\n  }\r\n};"],"mappings":"AAAA,MAAMA,IAAI,GAAG,uBAAuB;AAEpC,MAAMC,cAAc,GAAG,MAAOC,GAAG,IAAK;EACpC,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE,OAAO;IAAEC,KAAK,EAAE,IAAI;IAAEC,OAAO,EAAE;EAA4C,CAAC;EACpG,IAAIH,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE,OAAO;IAAEC,KAAK,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAmC,CAAC;EAC3F,IAAI,CAACH,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAC3D,OAAO,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;AACzB,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAOC,IAAI,IAAK;EAC5C,IAAI;IACF,MAAMR,GAAG,GAAG,MAAMS,KAAK,CAAC,GAAGX,IAAI,yBAAyBU,IAAI,EAAE,CAAC;IAC/D,OAAO,MAAMT,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZ,OAAO,EAAE;EACX;AACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOH,IAAI,EAAEI,aAAa,EAAEC,IAAI,KAAK;EAC9D,IAAI;IACF,MAAMb,GAAG,GAAG,MAAMS,KAAK,CACrB,GAAGX,IAAI,mBAAmBU,IAAI,kBAAkBI,aAAa,SAASE,kBAAkB,CAACD,IAAI,CAAC,EAAE,EAChG;MAAEE,MAAM,EAAE;IAAO,CACnB,CAAC;IACD,OAAO,MAAMhB,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZ,OAAO;MAAER,KAAK,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAoB,CAAC;EACtD;AACF,CAAC;AAED,OAAO,MAAMa,aAAa,GAAG,MAAOR,IAAI,IAAK;EAC3C,IAAI;IACF,MAAMR,GAAG,GAAG,MAAMS,KAAK,CAAC,GAAGX,IAAI,sBAAsBU,IAAI,EAAE,EAAE;MAAEO,MAAM,EAAE;IAAO,CAAC,CAAC;IAChF,OAAO,MAAMhB,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZ,OAAO;MAAER,KAAK,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAkB,CAAC;EACpD;AACF,CAAC;AAED,OAAO,MAAMc,WAAW,GAAG,MAAOT,IAAI,IAAK;EACzC,IAAI;IACF,MAAMR,GAAG,GAAG,MAAMS,KAAK,CAAC,GAAGX,IAAI,oBAAoBU,IAAI,EAAE,EAAE;MAAEO,MAAM,EAAE;IAAO,CAAC,CAAC;IAC9E,OAAO,MAAMhB,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZ,OAAO;MAAER,KAAK,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAgB,CAAC;EAClD;AACF,CAAC;AAED,OAAO,MAAMe,aAAa,GAAG,MAAAA,CAAOV,IAAI,EAAEO,MAAM,KAAK;EACnD,IAAI;IACF,MAAMf,GAAG,GAAG,MAAMS,KAAK,CAAC,GAAGX,IAAI,qBAAqBU,IAAI,WAAWM,kBAAkB,CAACC,MAAM,CAAC,EAAE,EAAE;MAAEA,MAAM,EAAE;IAAO,CAAC,CAAC;IACpH,OAAO,MAAMhB,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZ,OAAO;MAAER,KAAK,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAgB,CAAC;EAClD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}